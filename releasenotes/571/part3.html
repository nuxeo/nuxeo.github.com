<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

	<!-- Basic Page Needs
  ================================================== -->
	<meta charset="utf-8">
	<title>Nuxeo 5.7.1 - New and Noteworthy</title>
	<meta name="description" content="Nuxeo on Github">
	<meta name="author" content="nuxeo">

	<!-- Mobile Specific Metas
  ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- CSS
  ================================================== -->
	<link rel="stylesheet" href="../../stylesheets/base.css">
	<link rel="stylesheet" href="../../stylesheets/skeleton.css">
	<link rel="stylesheet" href="../../stylesheets/layout.css">
	<link rel="stylesheet" href="../../stylesheets/release_notes.css">
	<link rel="stylesheet" href="../../stylesheets/lightbox.css">

	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

<link href='http://fonts.googleapis.com/css?family=PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'>

<style>
#xnav-footer {margin-top:0px !important;}
</style>
<script src="../../javascripts/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="http://www.nuxeo.com/extension/nuxeo_design/design/nuxeo/javascript/xnav_get.js" charset="utf-8"></script>
	<!-- Favicons
	================================================== -->
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

</head>

<body>


  <div id="mainContainer" class="container">
  <p class="remove-bottom" id="site-title"><a href="./index.html">nuxeo<span class="separator">/</span><span class="nxsexion">5.7.1 Release Notes</span></a></p>

    <div id="welcome">

    <div style="clear:both;"></div>
     <h1  style="margin-left:-0.5em !important;">For Developers</h1>

<h2>Content Automation</h2>
<p><a href="https://jira.nuxeo.com/browse/NXP-10078">Automation client is fully OSGI, which means you can use it from any OSGI container (Felix, Equinox etc..)</a></p>
<p>Even though we have a new version coming out, we've kept Nuxeo 5.7.1 compatible with the 5.6 automation client.</p>
<p>You can fetch dirty properties of a modified document to send only modified properties with automation client</p>
<p>JSon Marshaling enhancement. You can send POJO in input or parameters. (5.7.1 only)</p>

<h2>New operations</h2>

<h3>Add Message</h3>
<p><strong>Category:</strong> User Interface</p>
<p><strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/Seam.AddMessage">Seam.AddMessage</a></p>
<p>Add a feedback message to be displayed. The message will be internationalized. You can specify the severity of the message using INFO, WARN and ERROR, default is INFO. Message parameters are extracted from the context using the 'AddMessage.messageParams'. </p>
<h3>Add entry into multi-valued metadata</h3>
<p><strong>Category:</strong> Document</p>
<p><strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/AddEntryToMultivaluedProperty">AddEntryToMultivaluedProperty</a></p>
<p>Add value into the field expressed by the xpath parameter. This field must be a multivalued metadata.</p>
<h3>Convert to given mime-type</h3>
<p><strong>Category:</strong> Conversion</p> 
<p><strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/Blob.Convert">Blob.Convert</a></p> 
<p> Convert the input file to a file of the given mime-type and return the new file. </p>
<h3>Create Asset(s) from file(s)</h3>
<p> <strong>Category:</strong> Dam</p> 
<p> <strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/Dam.Import">Dam.Import</a></p> 
<p> Create Asset(s) from Blob(s) using the FileManagerService. </p>
<h3>Create Proxy Live</h3>
<p><strong>Category:</strong> Document</p>
<p><strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/CreateProxyLive">CreateProxyLive</a></p>
<p> This operation will create a proxy that points the given document as input. This is like a symbolic link for File System. The proxy will be created into the destination specified as parameter. </p>
<h3>Creates directory entries</h3>
<p><strong>Category:</strong> Services</p>
<p><strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/Directory.CreateEntries">Directory.CreateEntries</a></p>
<p> Creates directory entries. Entries are sent as a JSON array. Returns the created entry ids as a JSON array. </p>
<h3>Deletes directory entries</h3>
<p> <strong>Category:</strong> Services</p> 
<p> <strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/Directory.DeleteEntries">Directory.DeleteEntries</a></p>
<p> Deletes directory entries. Entry ids to be delete are sent through a JSON array. Returns the deleted entry ids as a JSON array. </p>
<h3>Get Live Document</h3>
<p><strong>Category:</strong> Document</p>
<p><strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/GetLiveDocument">GetLiveDocument</a></p>
<p> Get the live document even if this is a Proxy or Version Document. </p>
<h3>Get Nuxeo Principal</h3>
<p><strong>Category:</strong> Users & Groups</p>
<p><strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/NuxeoPrincipal.Get">NuxeoPrincipal.Get</a></p>
<p> Retrieve Nuxeo principal and export it as a DocumentModel. If login parameter is not set, the operation will return informations about the current user, otherwise Directory Administration rights are required. </p>
<h3>QueryAndFetch</h3>
<p> <strong>Category:</strong> Fetch</p> 
<p> <strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/Resultset.PageProvider">Resultset.PageProvider</a></p> 
<p> Perform a query or a named provider query on the repository. Result is paginated. The result is returned as a RecordSet (QueryAndFetch) rather than as a List of Document. The query result will become the input for the next operation. If no query or provider name is given, a query returning all the documents that the user has access to will be executed. </p>
<h3>Raise Seam events</h3>
<p><strong>Category:</strong> User Interface</p>
<p><strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/Seam.RaiseEvents">Seam.RaiseEvents</a></p>
<p> Raise Seam events without parameters. This is a void operation - the input object is returned back as the output </p>
<h3>Reads directory entries</h3>
<p><strong>Category:</strong> Services</p>
<p><strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/Directory.ReadEntries">Directory.ReadEntries</a></p>
<p> Reads directory entries. Entry ids to be read are sent as a JSON array. Returns the entries as a JSON array of JSON objects containing all fields. </p>
<h3>Remove Entry Of Multivalued Property</h3>
<p><strong>Category:</strong> Document</p>
<p><strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/RemoveEntryOfMultivaluedProperty">RemoveEntryOfMultivaluedProperty</a></p>
<p>Removes the first entry of the giving value in the multivalued xpath, does nothing if does not exist. If 'is Remove All' is checked, all entry instances in the list will be removed.
if not then just the first one found will be removed.</p>
<h3>UI Selected documents form list</h3>
<p><strong>Category:</strong> Fetch</p>
<p><strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/Seam.GetDocumentsFromSelectionList">Seam.GetDocumentsFromSelectionList</a></p>
<p> Fetch the documents selected in the selection list passed as a parameter. If the list name is empty, the current folder selection list is used. </p>
<h3>Updates directory entries</h3>
<p><strong>Category:</strong> Services</p>
<p><strong>Operation Id:</strong> <a href="http://explorer.nuxeo.org/nuxeo/site/distribution/current/viewOperation/Directory.UpdateEntries">Directory.UpdateEntries</a></p>
<p> Updates directory entries. Entries to be updated are sent as a JSON array. Returns the updated entry ids as a JSON array of JSON objects containing all fields </p>


<h2>CSS 3 support in Theme engine</h2>
<p><a href="https://jira.nuxeo.com/browse/NXP-7672">The flute CSS parser</a> has now been replaced by <a href="https://code.google.com/p/phloc-css/">phloc-css</a>, allowing CSS3 to be used in the Theme engine.</p>

<h2>UI Framework</h2>

<p>Widget Label properties now accept an EL expression. This allows you to have <a href=" https://jira.nuxeo.com/browse/NXP-11040">dynamic labels</a>.</p>
<p>Every richfaces ajax call use a <a href="https://jira.nuxeo.com/browse/NXP-11136">global default ajax event queue</a>. You can of course still specify your own queue. This results in more stable pages.</p>

<h3>HTML5 PlaceHolder</h3>
<p>You can use the HTML5 placeHolder attribute on inputtext and textarea. It's available as a widget property. You can put text(that will be translated) or an EL.</p>
<p><img src="placeholder.png"/></p>


<h3>New drop zone Widget</h3>
<p><a href="https://jira.nuxeo.com/browse/NXP-11043">This widget</a> allows you to execute an operation with the files you've dropped as input. </p>


<h3>Widget Actions</h3>
<p>One can use automatic JS confirmation popup. If you add a confirmMessage property in the actions, it generates the appropriate js method. It accepts any EL as parameter. Here's an example:</p>
<blockquote>
<pre>
 &lt;action id="JenkinsReportSendMail"&gt;
   &lt;properties&gt
     &lt;property name="confirmMessage"&gt;label.jenkins.sendMail.confirm&lt;/property&gt
     &lt;propertyList name="confirmMessageArgs"&gt;
       &lt;value&gt;#{docSuggestionActions.getDocumentWithId(currentSuperSpace.id)
         .getPropertyValue('jenkinsreports:report_email')}&lt;/value&gt;
     &lt;/propertyList&gt;
   &lt;/properties&gt;
 &lt;/action&gt; 
messages:
label.jenkins.sendMail.confirm=This will send an email to {0},
 are you sure that you would like to continue?
</pre>
</blockquote>

<p>You can now include widgets that render actions. This is particularly useful in Nuxeo Studio. This allow us to easily blend different action types like a submit button, an outgoing link and an action that <a href="https://jira.nuxeo.com/browse/NXP-11006">opens a fancybox</a>. You can also <a href="https://jira.nuxeo.com/browse/NXP-11044">merge all of them</a> in any order you want.</p>

<p>We have a better support of <a href="https://jira.nuxeo.com/browse/NXP-9444">form inside fancybox</a> opened by actions. You can submit the associated form without submitting every other form on the page. No need to do nested form anymore.</p>

<p>You can mix any type of action. If one action does not support ajax (like a download), it can be in the same tool bar as an ajax action.</p>

<p>You can associate selected documents of a content view to actions outside the content view. That's how we made bulk edit.</p>

<p><a href="https://jira.nuxeo.com/browse/NXP-11566">We allow resetting of JSF components state when using ajax</a>. JSF action listener <em>#{jsfResetActions.resetComponents}</em> can be used in actions that need to reset all components in the same JSF naming container.</p>

<h2>New Facet</h2>
<h3>NotFulltextIndexable</h3>
<p>The document won't be full-text indexed.</p>



<h2>Nuxeo Visible Content Store (VCS)</h2>
<p><a href="https://jira.nuxeo.com/issues/?jql=project%20%3D%20NXP%20AND%20component%20%3D%20%22Core%20SQL%20Storage%22%20AND%20fixVersion%20%3D%20%225.7.1%22%20ORDER%20BY%20issuetype%20DESC%2C%20priority%20DESC">Issues list</a></p>

<h3>Enhancements</h3>
<p><a href="<a href="https://jira.nuxeo.com/browse/NXP-10308">Single datasource mode</a>, removes extra cost of XA transaction when all datasource points to the database. It simplifies configuration and enhances performance.</p>

<p>    <a href="https://jira.nuxeo.com/browse/NXP-11335">Soft delete</a>, efficient deletion, use batch to perform mass deletion</p>

<p>    <a href="https://jira.nuxeo.com/browse/NXP-10894">NXP-10894</a>, <a href="https://jira.nuxeo.com/browse/NXP-4803">NXP-4803</a>: Enables usage of internal db uuid or sequence as document id instead of varchar(36), thus improving performance and db memory footprint.
specific conf to activate (repository conf idtype="sequence|uid"</p>

<p>    <a href="https://jira.nuxeo.com/browse/NXP-11370">Flag to disable proxies</a>, if you don't use proxies then it removes extra useless clauses at the SQL level.</p>

<p>    <a href="https://jira.nuxeo.com/browse/NXP-11562">Allow attaching schemas to proxies</a></p>

<p></p>
<h3>DataBase Support</h3>
<p> MSSQL 2012 support, PostreSQL 9.2</p>

<p></p>
<h3>NXQL</h3>
<p><a href="http://doc.nuxeo.com/x/uItH">NXQL Documentation</a></p>
<p><strong>ecm:tag</strong>: a tag of the document. This property, when used multiple times in the same query, always refers to the same tag. If you want to refer to multiple tags in the same query, you can use a wildcard syntax similar to complex properties: every instance of ecm:tag/* will always refer to a different tag. If you want to refer several times to the same tag but still want to have flexibility, use correlated wildcards like for complex properties: ecm:tag/*1, ecm:tag/*2, etc. See the examples below for more.</p>

<p><strong>ecm:proxyTargetId</strong>: the id of the target of a proxy (usually a version). Implies a search for proxies (ecm:proxy = 1).</p>

<p><strong>ecm:proxyVersionableId</strong>: the id of the versionable document of a proxy (the versionable document is the one from which the version to which the proxy is pointing was created). Implies a search for proxies (ecm:proxy = 1).</p>

<h3>Misc</h3>
<p>Performance enhancements for Postgres, Oracle and MSSQL</p>
<p>Uses temporary tables for Oracle</p>
<p>Unlogged table for Postgres -> reduce I/O</p>
<p>Oracle: refactor ancestors search with STARTSWITH operator</p>
<p>Add indexes</p>
<p><a href="https://jira.nuxeo.com/browse/NXP-10324">Add "NotFulltextIndexable" facet</a> to avoid indexing documents with this facet </p>
<p><a href="https://jira.nuxeo.com/browse/NXP-10272">Allow clustering</a> for Oracle on Amazon RDS</p> 
<p><a href="https://jira.nuxeo.com/browse/NXP-10216">Optimize complex list property update (no DELETE + INSERT)</a></p>
<p>Updating a complex list property triggers DELETE and INSERT SQL statements.
This could be optimized using UPDATE statements (DELETE is quite costly because of the ON DELETE CASCADE option).
Attached stack trace of such a call.</p>


  </div>

</div>


	<!-- JS
	================================================== -->
    <script src="../../javascripts/strftime.js"></script>
    <script src="../../javascripts/tabs.js"></script>
    <script src="../../javascripts/float_menu.js"></script>
    <script src="../../javascripts/lightbox.js"></script>

</body></html>

