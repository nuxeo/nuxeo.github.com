<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

	<!-- Basic Page Needs
  ================================================== -->
	<meta charset="utf-8">
	<title>Nuxeo Platform 7.2 Release notes - New and Noteworthy</title>
	<meta name="author" content="nuxeo">

	<!-- Mobile Specific Metas
  ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- CSS
  ================================================== -->
	<link rel="stylesheet" href="../../stylesheets/base.css">
	<link rel="stylesheet" href="../../stylesheets/skeleton.css">
	<link rel="stylesheet" href="../../stylesheets/layout.css">
	<link rel="stylesheet" href="../../stylesheets/release_notes.css">
	<link rel="stylesheet" href="../../stylesheets/lightbox.css">


	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

<link href='http://fonts.googleapis.com/css?family=PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'>

<style>
#xnav-footer {margin-top:0px !important;}
div.breakafter {
  page-break-after: always;
}

</style>
<script src="../../javascripts/jquery-1.7.1.min.js"></script>
	<!-- Favicons
	================================================== -->
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

</head>

<body>

  <div id="mainContainer" class="container">
    
    <p class="remove-bottom" id="site-title"><a href="./index.html">Nuxeo Platform <span class="version-number">7.2</span> Release Notes</a></p>

    <div id="welcome">

     <div style="clear:both;"></div>

    <h1 style="margin-left:-0.5em !important;">For Users</h1>
      <h2>
                <a name="anchor-0"></a>
                Improved Breadcrumb
                </h2>
                <p>
                Breadcrumb behaviour has been greately improved. User can switch from the breadcrumb to another domain or another repository. And it is possible to go to the top hierarchy in one click.
                </p>
                <h2>
                <a name="anchor-1"></a>
                Exports and Renditions
                </h2>
                <p>The "Export Options" action and view has been removed. It is replaced with the "Export" action on a document.</p>
                <p>The Export action lists all available renditions on a document, including the default exports.</p>
                <h2><a name="anchor-2"></a>Picture Document Type</h2>
                <p>IPTC metadata are extracted and stored on the dublincore schema: source, copyrights (>dc:rights), legend (> dc:description) instead of on a dedicated schema.</p>
                <h2>
                <a name="anchor-3"></a>
                CSV Import
                </h2>
                <p>Importing documents through a CSV file now supports JSON-encoded complex properties.</p>
                <h2>
                <a name="anchor-4"></a>
                Agenda
                </h2>
                <p>The Agenda addon now works on a default Nuxeo Platform, the OpenSocial dependency has been removed.</p>
                <h2>
                <a name="anchor-5"></a>
                JavaScript List Widget
                </h2>
                <p>
                The List widget is now using JavaScript calls to add/remove elements, making it more user friendly. It also allows to keep an uploading file path when a file widget is used inside the list.
                </p>
                <h2>
                <a name="anchor-6"></a>
                Chained Vocabulary Widget Error on First Selection
                </h2>
                <p>
                The Chained vocabulary widget used to display an error "Incomplete Selections are not allowed"
                when selecting the first element (and before submitting the form). This bug is now fixed.
                </p>
                <h2>
                <a name="anchor-7"></a>
                Template Rendering Parameters
                </h2>
                <p>
                The steps to add and edit parameters in a template have been simplified and completed.
                In the Parameters configuration box, user is guided to know explicitely what she can
                add, edit and update. The form has been updated to make user more confident in her edits.
                </p>
                <h2>
                <a name="anchor-8"></a>
                Thumbnails Are Generated For Videos
                </h2>
                <p>
                Instead of the full resolution picture which was long to load, a thumbnail adapted resolution is now used for displaying video content in thumbnails view.
                </p>
                <h2>
                <a name="anchor-9"></a>
                User Creation/Invitation Page | UI Ergonomy Improvements
                </h2>
                <p>The user creation/invitation page has been improved to now use smarter Ajax refresh to not clean all the form when switching between invitation or creation. Also the set of buttons is now less confusing, using only two buttons, 'create' or 'cancel', and a checkbox if you want to
                create another user/group.</p>
                <p><img class="lightboxed" src="./user-creation-form.png"/></p>

<div class="breakafter"></div>


     <h1  style="margin-left:-0.5em !important;">For Developers</h1>

  <h2>
                    <a name="anchor-0"></a>
                    Exports and Renditions
                    </h2>
                    <p>A lot of work has been done around renditions so as to make the rendition concept the standard way to handle binary transformations of documents.
                    <ul>
                        <li>Rendition definitions can now also be contributed through a class implementing the inferface <i>RenditionDefinitionProvider</i>. When asked for the list of rendition definitions for a document, all matching <i>RenditionDefinitionProviders</i> are called to compute dynamic rendition definitions.</li>

                        <li><i>RenditionDefinition</i>s and <i>RenditionDefinitionProvider</i>s can be filtered through standard filters.
                        </li>
                        <li>Transcoded videos are exposed as renditions (but not visible in the UI).</li>
                        <li>Picture conversions are also exposed as renditions (but not visible in the UI).</li>
                        <li>The default exports (XML export, ZIP Tree Export, ...) have been migrated to be exposed as standard renditions, thanks to the new <i>ExportDocument</i> operation.</li>
                        <img class="lightboxed" src="./Renditions.png"/></p>
                    </ul>
                    <h2>
                    <a name="anchor-1"></a>
                    Automation: Scripting and Major Renaming.
                    </h2>
                        <h3>Automation Scripting</h3>
                        <p><a href="http://doc.nuxeo.com/x/z4dkAQ" target="alt">Automation scripting</a> is a new platform service that allows to deploy at runtime new operations defined via a JavaScript script. Those scripts are executed serverside with Nashorn. In those scripts, developer has access to all automation operations. Scripts can be edited in Nuxeo Studio.</p>
                        <h3>Global Renaming</h3>
                        <p>We have renamed most of the operations so as to provide better readability. The label is now equal to the id of the operation in most of the cases. The following <a href="http://doc.nuxeo.com/x/7gIz" target="_blank">documentation</a> lists renamed operations. Compatibility has been kept with aliases.</p>
                        <h2><a name="anchor-2"></a>Workflow REST API</h2>
                        <p>Endpoints have been added for controlling workflow engine remotely: start workflow instances, complete tasks, query opened tasks and much more. A <a href="https://github.com/nuxeo/nuxeo-travel-expenses" target="alt">sample javascript application </a>has been implemented for demonstrating the use of this API. This application is also provided as <a href="https://github.com/nuxeo/marketplace-travel-expenses" target="alt">marketplace package</a>.</p>
                    <h2>
                    <a name="anchor-3"></a>
                    Nuxeo JavaScript Client
                    </h2>
                    <p>Some improvements have been done to the JS client during this release:</p>
                    <ul>
                        <li>Added <i>Document.copy</i> and <i>Document.move</i> methods</li>
                        <li>Added proxy and portal authentication to Node.js client</li>
                        <li>Increased default timeout from 3000 to 30000 ms</li>
                        <li>Fixed <i>delete</i> request</li>
                    </ul>
                    <p>Note that the authentication configuration has changed, see the <a href="https://github.com/nuxeo/nuxeo-js-client#migrating-from-03x" target="_blank">Migrating from 0.3.x</a> part.</p>
                    <h2> Elasticsearch</h2>
                        <h3><a name="anchor-4"></a>New Elasticsearch Admin API to Wait for Indexing Completion</h2>
                        <p>The following <a href="http://doc.nuxeo.com/x/F4tkAQ" target="_blank">documentation</a> explains how to migrate code from VCS to DB using this new API.</p>
                        <h3><a name="anchor-5"></a>Support Properties on Select Clause Using Elasticsearch</h3>
                        <p>It is now possible to select scalar fields instead of documents from Elasticsearch API. Note that aggregate (COUNT, MAX, MIN, SUM, AVG) are not yet supported.</p>
                        <p>Visit the following <a href="http://doc.nuxeo.com/x/F4tkAQ#MovingLoadfromDatabasetoElasticsearch-MigratingaqueryAndFetchrequest" target="_blank">documentation</a> for more information.</p>
                    <h2><a name="anchor-6"></a>Field Constraints, Extended fields and Validation</h2>
                        <p>It is now possible to set field constraints and define references on the schema XSD definition. This validation is performed when submitting a document form.</p>
                        <p>Visit the <a href="http://doc.nuxeo.com/x/yIBkAQ" target="_blank">"Field Constraints and Validation" documentation</a> and the <a href="http://doc.nuxeo.com/x/rINkAQ">"How to Customize Document Validation" documentation</a> for more information and the
                        <a href="http://showcase.nuxeo.com/nuxeo/layoutDemo/testDocumentValidation" target="_blank">layout showcase for a small demo</a>.</p>
                        <p><img class="lightboxed" src="./WebUI-Validation.png"/></p>
                    <h2><a name="anchor-7"></a>Plugable JSON Marshalling</h2>
                        <p>Nuxeo provides a way to define reusable Marshallers. Each registered marshaller can be used and aggregated. Nuxeo provides built-in and reusable marshallers for many Nuxeo based objects. All marshallers can be used in a web context or in a server side context (for example, JSON could be logged in audit or used with non HTTP connectors).</p>
                        <p>Visit the following <a href="http://doc.nuxeo.com/x/RJBkAQ" target="_blank">documentation</a> for more information.</p>
                    <h2><a name="anchor-8"></a>Management of Document's Updates</h2>
                        <p>The dirty flag of document's properties is now more accurate. A property is dirty only if its value has changed. When a document has version 1.0, a 1.0+ version is created while editing only if some property changed. The update's date and the list of contributors are updated only if there were changes (Previously, simply save the document caused the updates, even with identical values).</p>
                    <h2><a name="anchor-9"></a>Dublincore's Extended Fields</h2>
                        <p>"dc:creator", "dc:lastContributor" and "dc:contributors" are now defined as references to Nuxeo users. "dc:subjects", "dc:nature" and "dc:coverage" are now defined as references to the corresponding directories. This provides all benefits from the validation and from the plugable JSON marshalling.</p>
                    <h2><a name="anchor-10"></a>Blob Manager Service</h2>
                        <p>Blob Access in lower layers is now made through a new service, Blob Manager, that provides pluggable implementations. This can be used for fetching blobs from remote storage services, like Google Drive or One Drive, or for handling smarter storage policies.</p>
                    <h2><a name="anchor-11"></a>File Upload Widget Has Been made Extensible</h2>
                        <p>The current JSF file upload widget (based on UIInputFile code) has been made pluggable in order to be able to create blobs not only based on an HTML file upload from the user's desktop but also based on other kinds of blob creation (for example using an existing file in Google Drive). See <a href="https://jira.nuxeo.com/browse/NXP-16551">NXP-16551</a> for details on how to contribute an additional file picker.</p>
                    <h2><a name="anchor-12"></a>ACL Related Queries</h2>
                        <p>It is now possible to fetch documents depending on acls that are set on it thanks to a new NXQL system field: "ecm:acl". For instance:
                        "SELECT * FROM Document WHERE ecm:acl/*/principal = 'bob'".</p>
                    <h2><a name="anchor-13"></a>Transiant Store</h2>
                        <p>A new service `TransientStoreService` has been added to `nuxeo-core-cache`.
                        The goal is to provide a way to handle storage of temporary objects and streams.  `TransientStoreService` can be seen as a high level and cluster compliant interface on top of a 2 levels Cache and Filesystem storage. This very first version was build to accommodate the requirements of asynchronous renditions, but we expect to have much more use cases soon.</p>
                    <h2>
                    <a name="anchor-14"></a>
                    Picture Document Type Evolutions
                    </h2>
                        <ul>
                        <li>The following <a href="http://doc.nuxeo.com/x/w4JkAQ" target="_blank">documentation</a> provides the new default contribution for binaries metadata extraction in the Nuxeo Platform. Main changes are that IPTC binary metadatas are mapped to Dublin Core schema (source, copyrights (>&nbsp;dc:rights), legend (>&nbsp;dc:description)), as an exemple of what can be done configuring the metadata extractor.</li>
                        <li>Exif mapping remains identical.</li>
                        <li>The widget "summary_picture_iptc" has been removed from document Summary.</li>
                        <li>Mistral engine is removed. Use the Binary Metadata feature to extract metadata with custom engine. (The default one is ExifTool since 7.1).</li>
                        </ul>
                    <h2>
                    <a name="anchor-15"></a>
                    JDK 1.8+ is required (version 8u25 minimum)
                    </h2>
                        <p>
                        Java 8 update 25+ is required for building Nuxeo and the constraint has been set as an enforcement in the root
                        Nuxeo POM.
                        <code>org.nuxeo:nuxeo-ecm</code>
                        .<br /> Some products like the Automation Client will still be compiled with Java 7 compliance (source and
                        target) for being usable in Java 7 runtime environments but Java 8 is still required to perform their build.
                        </p>



<div class="breakafter"></div>
     <h1  style="margin-left:-0.5em !important;">For Administrators</h1>



 <h2>
                    <a name="anchor-0"></a>
                    JDK 1.8+ is required (version 8u25 minimum)
                    </h2>
                    <h2>
                    <a name="anchor-1"></a>
                    ExifTool Setup | Third Party Software Requirement
                    </h2>
                    <p>The following <a href="http://doc.nuxeo.com/x/zgJc" target="_blank">documentation</a> provides guidelines to download/setup ExifTool program.
                    This tool is replacing Mistral for binaries metadata extraction.</p>
                    <h2>
                    <a name="anchor-2"></a>
                    Bridge CMISQL to Elasticsearch
                    </h2>
                    <p>To send the CMISQL queries to Elasticsearch, you can set the following property:
                    <div class="embededCode">
                        org.nuxeo.cmis.elasticsearch=true
                    </div></p>
                    <p>This will make your CMIS integration benefit from the scalability of the Elasticsearch engine.</p>
                    <h2><a name="anchor-3"></a>Elasticsearch Reindexing Refactoring</h2>
                    <p>The reindexing operations are now faster because of better parallelisation and improved usage of the Elasticsearch bulk mode. See <a href="http://doc.nuxeo.com/x/UBY5AQ#ElasticsearchSetup-RebuildingtheIndex" target="_blank">the tuning options</a> available.</p>
                    <p>The new Admin > Elasticsearch > Admin tab now displays much more options to reindex:</p>
                    <ul>
                        <li>Support for multi-repositories.</li>
                        <li>Re-indexing the entire repository: Now it drops the index first.</li>
                        <li>Re-indexing documents that match a NXQL query: There is no recursive indexation of children nor deletion of spurious documents from the index.</li>
                        <li>Re-indexing a document and its children recursively: Before indexing, the document and its children are removed from Elasticsearch. This operation can be used to remove spurious documents from the index. You may experience incomplete search results during the re-indexing.</li>
                        <li>Optimize all Elasticsearch indexes: The optimize process basically optimizes the index for faster search operations (and relates to the number of segments a Lucene index holds within each shard). The optimize operation allows to reduce the number of segments by merging them. Ask for a full optimization to a single segment. Note that this can potentially be a very heavy operation.</li>
                    </ul>
                    <h2>
                    <a name="anchor-4"></a>
                    Mongodb HA Configuration
                    </h2>
                    <p>It is now possible to configure the db name, as well as the replica sets, the credentials and other options.</p>
                    <p>Property nuxeo.mongodb.dbname can be used to define the database name. The default is "nuxeo". Property nuxeo.mongodb.server can be used for credentials, replica sets, and options, as described in <a href="http://docs.mongodb.org/manual/reference/connection-string/" target="alt">Mongodb documentation</a>.</p>
                    <h2>
                    <a name="anchor-5"></a>
                    Nuxeo Drive Beta Channel
                    </h2>
                    <p>As Nuxeo Drive can now be configured to be updated through a beta channel, the beta update site URL is set in the Nuxeo server by the <em>org.nuxeo.drive.beta.update.site.url</em> property, whose default value is set to <a href="http://community.nuxeo.com/static/drive-tests/" target="_blank">http://community.nuxeo.com/static/drive-tests/</a> in the nuxeo-drive Marketplace package. As any other Framework property it can be overridden in nuxeo.conf.</p>
                    <h2>
                    <a name="anchor-6"></a>
                    Recompute Picture Views
                    </h2>
                    <p>Recomputation of picture views can now be asynchronously launched in Admin > Imaging, through a NXQL
                    query.</p>
                    <p><img class="lightboxed" src="./Admin Picture Conversions.png"/></p>
                    <h2>
                    <a name="anchor-7"></a>
                    S3 BinaryManager and Big Files
                    </h2>
                    <p>AWS S3 connector has been improved for dealing with multi-part upload of big files, which allows to go over the previous limitation of 5 gigabits files.</p>
                    <h2>
                    <a name="anchor-8"></a>
                    Oracle 12 Support
                    </h2>
                    <p>Support of Oracle 12 has been validated.</p>
                    
                    <h2><a name="anchor-9"></a>Escaping Configuration Variables</h2>
                    <p>The Nuxeo Platform now enables you to generate extensions containing variables resolved at runtime through the templating system.
                    You can read more about it on <a href="https://jira.nuxeo.com/browse/NXP-16318">JIRA</a> and
                    in the <a href="http://doc.nuxeo.com/x/0AB9">documentation</a>.</p>

                    <h2>
                    <a name="anchor-10"></a>
                    Social Collaboration Migration
                    </h2>
                    <p>We wrote a SQL script to update data created with the Social Collaboration addon to be usable in a default Nuxeo Platform. The script can be found in the <a href="https://github.com/nuxeo/nuxeo-social-collaboration/tree/7.2/migration" target="_blank">Social Collaboration GitHub reporsitory</a>.</p>

  </div>

</div>

	<!-- JS
	================================================== -->
    <script src="../../javascripts/strftime.js"></script>
    <script src="../../javascripts/tabs.js"></script>

</body></html>
