<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="en">
<!--<![endif]-->

<head>
  <!-- Basic Page Needs
    ================================================== -->
  <meta charset="utf-8">
  <title>Nuxeo Platform 8.3 Release notes - New and Noteworthy</title>
  <meta name="author" content="nuxeo">
  <!-- Mobile Specific Metas
    ================================================== -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <!-- CSS
    ================================================== -->
  <link rel="stylesheet" href="../../stylesheets/base.css">
  <link rel="stylesheet" href="../../stylesheets/skeleton.css">
  <link rel="stylesheet" href="../../stylesheets/layout.css">
  <link rel="stylesheet" href="../../stylesheets/release_notes.css">
  <link rel="stylesheet" href="../../stylesheets/lightbox.css">
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  <link href='http://fonts.googleapis.com/css?family=PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'>
  <style>
    #xnav-footer {
      margin-top: 0px !important;
    }

    div.breakafter {
      page-break-after: always;
    }
  </style>
  <script src="../../javascripts/jquery-1.7.1.min.js"></script>
  <!-- Favicons
        ================================================== -->
  <link rel="shortcut icon" href="images/favicon.ico">
  <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
</head>

<body>
  <div id="mainContainer" class="container">
    <p class="remove-bottom" id="site-title"><a href="./index.html">Nuxeo Platform <span class="version-number">8.3</span> Release Notes</a></p>
<div id="welcome">
      <div style="clear:both;"></div>
      <h1 style="margin-left: -0.5em !important;">For Users</h1>

<h2>Nuxeo Mobile for iOS</h2>
      <p><span class="release">8.3</span> <a href="https://itunes.apple.com/en/app/nuxeo/id1103802613?ls=1&mt=8">Nuxeo Mobile for iOS</a> provides an out of the box mobile experience with any customized Nuxeo Platform server. It lets you access content stored on Nuxeo Platform servers on your phone. Nuxeo Mobile provides a seamless experience on essential features such as searching, browsing, previewing documents (typically images, videos, text documents and notes), and managing favorite documents. 
      </p>
      <div>
        <img class="lightboxed" src="./6+-Menu-EN.jpeg" /> <img class="lightboxed" src="./6+-Browse-EN.jpeg" /> 
      </div>
      <h2>Nuxeo Web UI Preview Edition</h2>
      <p><span class="release">8.3</span> The Nuxeo Web UI has been rewritten entirely, switching from JSF stack to Web Component (HTML) / Polymer framework, with a completely re-designed interface. It will be available in preview edition for the Nuxeo Platform 8.3 and fully available along with the LTS 2016. 
It allows enhanced productivity with direct access to last visited documents, collections, easy browsing between prev/next document, full screen suggester. Effort has been made for making the tasks validation flow highly efficient. With all those improvements, <a href="https://connect.nuxeo.com/nuxeo/site/marketplace/package/nuxeo-web-ui" target="_blank">Nuxeo Web UI</a> is a first class choice for projects where visual and workflows are important requirements.
      </p>
      <div>
        <img class="lightboxed" src="./WebUI-search-results.png" /> 
      </div>
      <h2>Instant Share</h2>
      <p>
        <span class="release">8.1</span> A new feature allows to invite users to a given folder of the Nuxeo Platform
        with either Read or Edit permission, by email. Invited users do not have an account on the Nuxeo Platform
        instance. The access is temporary and any access remains tracked in the audit log, based on the used email
        address. <a href="https://doc.nuxeo.com/x/UYEk"> Read more in the documentation</a>.
      </p>
      <div>
        <img class="lightboxed" src="./8.1_external_permissions.png" />
      </div>
      <h2>Nuxeo Live Connect for Box</h2>
      <p>
        <span class="release">8.1</span>
        <a href="https://connect.nuxeo.com/nuxeo/site/marketplace/package/nuxeo-liveconnect"> Nuxeo Live Connect</a>
        has been improved and now integrates with Box.com. Nuxeo Live Connect allows to easily reference files that are
        stored in the cloud and have them participate to your business processes. Check the
        <a href="https://doc.nuxeo.com/x/EgOIAQ"> Nuxeo Live Connect documentation</a>
        for more information.
      </p>
      <div>
        <img class="lightboxed" src="./8.1_LiveConnect_file_creation.png" width="400" />
      </div>
      <h2>Nuxeo Live Connect for One Drive</h2>
      <p>
        <span class="release new">8.2</span>
        <a href="https://connect.nuxeo.com/nuxeo/site/marketplace/package/nuxeo-liveconnect"> Nuxeo Live Connect</a>
        has been improved and now integrates with One Drive. Nuxeo Live Connect allows to easily reference files that
        are stored in the cloud and have them participate to your business processes. It offers as usual with Live
        Connect: direct download from the Microsoft Cloud, full text indexing etc. We also have come out with a generic
        One Drive Java client and a generic file picker as well. Check the
        <a href="https://doc.nuxeo.com/x/EgOIAQ"> Nuxeo Live Connect documentation</a>
        for more information.
      </p>
      <h2>Users and Groups Management Audit</h2>
      <p>
        <span class="release new">8.2</span> Creation, Update and deletion of users and groups actions are now logged
        into the audit trail of Nuxeo Platform.
      </p>
      <h2>Nuxeo Drive Optimisations</h2>
      <p><p><span class="release new">8.3</span> At initial synchronisation, the time needed to retrieve the documents is 4 times lower and the number of children synchronized in a folder is no more limited to 1000.
      </p>
      <h2>JSF Web UI Evolutions</h2>
      <h3>New Previewers</h3>
      <p>
        <span class="release new">8.2</span> Preview now offers to see office documents with pdf.js, video documents
        with video.js and images with a JavaScript client side viewer. Markdown documents are rendered in HTML. Preview
        is opened in a fancybox.
      </p>
      <h3>Placeless Document Can Be Browsed</h3>
      <p>
        <span class="release new">8.2</span> Placeless documents like persisted renditions can now be browsed in the
        JSF UI without any crash.
      </p>
      <h3>User Feedback on Permission Management Tab</h3>
      <p>
        <span class="release">8.1</span> Feedback using the Polymer element paper-toast has been implemented on the
        Permissions tab. It is used on the create, update and delete permission actions, as well as on the "send
        notification email" action.
      </p>
      <h3>No More Error Stack Trace by Default</h3>
      <p>
        <span class="release new">8.2</span> By default the traces are hidden in error pages of Nuxeo, for security
        reasons. In order to activate the traces display in error pages of Nuxeo, the dev mode has to be set:
        org.nuxeo.dev in nuxeo.conf or in the admin center.
      </p>
      <h3>Smart Search is Back</h3>
      <p>
        <span class="release">8.1</span>
        <a href="https://connect.nuxeo.com/nuxeo/site/marketplace/package/nuxeo-platform-smart-search"> Smart Search</a>,
        that allows users to build their own queries, has been re-integrated to the Search tab, consistently with
        other search options. Smart Search is delivered as a Nuxeo Package.
      </p>
      <div>
        <img class="lightboxed" src="./8.1_SmartSearch_query.png" width="250" />
      </div>
      <h3>Confirmation Pop-up Before Purge</h3>
      <p>
        <span class="release">8.1</span> In the Admin Center, when removing the permissions of a given user, you now
        have to confirm on a pop-up that you really want to purge all the permissions.
      </p>
      <div>
        <img class="lightboxed" src="./8.1_permission_purge_confirm.png" width="400" />
      </div>
      <h3>Password Protection</h3>
      <p>
        <span class="release new">8.2</span> When a user changes their password, they are now required to fill in the old password value.
      </p>
      <h3>See Assigned Groups Before Validating Invitation</h3>
      <p>
        <span class="release new">8.2</span> When validating an invitation request, Administrator can now see the
        groups the user will be granted.
      </p>
      <h3>More Friendly "Http Transport returned a 0 status code" Error</h3>
      <p>
        <span class="release">8.1</span> When this error happens, the message is now displayed as a warning and
        translated in a more friendly way.
      </p>
      <h3>Do Not Checkout a Document When Putting It in the Trash</h3>
      <p><span class="release">8.3</span> Now, putting a checked-in document in the trash will not check it out, thus not spuriously changing its quota size. This behavior can be also activated in Nuxeo 7.10 since HF10 using:  
<pre>
&lt;extension target=&quot;org.nuxeo.runtime.ConfigurationService&quot; point=&quot;configuration&quot;&gt;
  &lt;property name=&quot;org.nuxeo.trash.keepCheckedIn&quot;>true&lt;/property&gt;
&lt;/extension&gt;  
</pre>
</p>
      <h2>Nuxeo Explorer Improvements</h2>
      <p><span class="release">8.3</span> 
      We reviewed the browsing pattern, simplifying each view to navigate between Extension Points, Services, Operations, Components and Bundles. We've also extended the XML generation feature to help developers have a working sample. The documentation has been completed and will be maintained regularly.
      </p>
      <div>
        <img class="lightboxed" src="./explorer-improvement" /> 
      </div>
      <h2>CSV Importer Small Improvements</h2>
      <h3>Import Time Reduction</h3>
      <p><span class="release new">8.2</span> Now, the time needed to import an element in a large collection has been greatly reduced.</p>
      <h3>Type Attribute Not Mandatory</h3>
      <p>
        <span class="release new">8.3</span> Type attribute is not mandatory anymore when updating documents. It must be
        given only for document creation.
      </p>
      <h3>
        Possible to Redefine
        <code>dc:created</code>
        Attribute Value
      </h3>
      <p>
        <span class="release new">8.2</span> It is now possible to set
        <code>dc:created</code>
        property using CSV importer. It used to be overridden with the date of import.
      </p>
      <h2>Nuxeo Spreadsheet</h2>
      <h3>Locale is Respected</h3>
      <p>
        <span class="release new">8.2</span> Locale setting is now taken into account when using Nuxeo Spreadsheet for
        the JSF Web UI.
      </p>
      <h2>No More Error Stack Trace</h2>
      <p>
        <span class="release new">8.2</span> By default the traces are hidden in error pages of Nuxeo, for security
        reasons. In order to activate the traces display in error pages of Nuxeo, the dev mode has to be set (
        <code>org.nuxeo.dev</code>
        in
        <code>nuxeo.conf</code>
        or in the Admin Center.)
      </p>
      <h2>Overriding Subject of the Permission Assignment Email Notification</h2>
      <p>
        <span class="release new">8.2</span> It is now possible to override the subject of the notification that is
        sent when assigning a permission to someone on a given document. You need to override the label property
        <code>label.subject.new.permission</code>.
      </p>
      <h2>Documents Created by Copy Can Have Their Own Dublincore Schema Metadata Values</h2>
      <p>
        <span class="release new">8.2</span> Metadata
        <code>dc:creator</code>, <code>dc:creationDate</code>, <code>dc:modification</code> and <code>dc:contributors</code>
        are now reseted for documents created from a template (workspace template). You can also enable this behavior
        for all kind of document copies by setting <code>nuxeo.dclistner.reset-creator-on-copy</code>
        configuration property to true.
      </p>
      <h2>Nuxeo Showcase Content</h2>
      <p><span class="release new">8.3</span> The <a href="https://connect.nuxeo.com/nuxeo/site/marketplace/package/nuxeo-showcase-content" target="_blank">Nuxeo Showcase Content addon</a> imports a set of showcase content so that the repository is not empty for your first steps: office documents, images, videos. The content of this addon has been updated with new sample documents (reports, case studies, etc.). This addon is a good way to start with your Nuxeo Platform.</p>










      <div class="breakafter"></div>
           <h1 style="margin-left: -0.5em !important;">For Developers</h1>


       <h2>A C# Nuxeo Client</h2>
      <p>
        <span class="release">8.1</span>A C# Nuxeo Client has been added. A
        <a href="https://github.com/nuxeo/nuxeo-dotnet-browser" target="_blank"> sample application</a>
        is provided so as to understand how to make use of it. Read the
        <a href="https://doc.nuxeo.com/x/dwSlAQ" target="_blank"> C# client documentation </a>
        for more information.
      </p>
      
      <h2>New Operations</h2>
      
      <h3>User Invitation</h3>
      <p>
        <span class="release">8.2</span>The operation
        <code>User.Invite</code>
        is now available to trigger a user invitation remotely.
      </p>
      
      <h3>Studio JAR Hot-Reload</h3>
      <p>
        <span class="release">8.2</span>The operation
        <code>Service.HotReloadStudioSnapshot</code>
        is now available to trigger a hot-reload of the Studio JAR.
      </p>
      
      <h2>REST Endpoint Evolutions</h2>
      
      <h3>New Token Endpoint</h3><p>
      <span class="release new">8.3</span>An endpoint has been added to be able to fetch and delete via the REST API tokens for the Nuxeo Authentication module.
      </p>
      
      <h3>New Search Endpoint</h3><p>
      <span class="release new">8.3</span>A new <code>search</code> endpoint has been added to be able to be able to perform searches as well as saving and fetching them. The <code>query</code> endpoint is now deprecated.
      </p>
      
      <h3>New Content-Type Header</h3>
      <p>
        <span class="release">8.2</span>Content-Type header now returns the nuxeo-entity type as well:
      </p>
      <pre>
application/json; nuxeo-entity=documents
</pre>
      
      <h3>Client-Side Localisation</h3>
      <p><span class="release new">8.3</span>The client is now responsible for sending the locale it is interested in via a dedicated request header.</p>
      
      <h3>Fetching Members of Group object</h3>
      <p>
        <span class="release">8.2</span> New endpoints were added for getting members of a group:
      <ul>
        <li><code>/group/{groupname}/@members</code></li>
        <li><code>/group/{groupname}/@groups</code></li>
      </ul>
      <p>
      This endpoint supports pagination and returns the full objects (full users and groups). And by default when
      fetching a user or a group, users and groups members are no more marshaled (only ids are returned), you can use
      <code>fetch.group=memberUsers</code>
      and/or
      <code>fetch.group=memberGroups</code>
      to get the full object.
      </p>
      
      <h2>Directories</h2>
      
      <h3>Generic Directory and Directory Templating</h3>
      <p>
        <span class="release">8.2</span> Generic Directories have been introduced, along with the possibility to
        make regular directories be "templates". First, register a template directory (
        <code>template="true"</code>
        ):
      </p>
      <pre>
&lt;extension target=&quot;org.nuxeo.ecm.directory.sql.SQLDirectoryFactory&quot; point=&quot;directories&quot;&gt; <br />
  &lt;directory name=&quot;template-dir&quot; template=&quot;true&quot;&gt; <br />
      &lt;dataSource&gt;java:/nxsqldirectory&lt;/dataSource&gt; <br />
      &lt;createTablePolicy&gt;always&lt;/createTablePolicy&gt; <br />
      &lt;querySizeLimit&gt;100&lt;/querySizeLimit&gt; <br />
   &lt;/directory&gt; <br />
 &lt;/extension&gt;
    </pre>
    <p>
      Then use a generic directory to provide specific customizations over the extended template (
      <code>extends=&quot;template-dir&quot;</code>
      ):<br />
      <br />
      </p>
      <pre>
&lt;extension target=&quot;org.nuxeo.ecm.directory.GenericDirectory&quot; point=&quot;directories&quot;&gt; <br />
    &lt;directory name=&quot;my-directory&quot; extends=&quot;template-dir&quot;&gt; <br />
      &lt;schema&gt;myschema&lt;/schema&gt; <br />
      &lt;table&gt;mytable&lt;/table&gt; <br />
      &lt;idField&gt;id&lt;/idField&gt; <br />
      &lt;passwordField&gt;password&lt;/passwordField&gt; <br />
      &lt;passwordHashAlgorithm&gt;SSHA&lt;/passwordHashAlgorithm&gt; <br />
      &lt;substringMatchType&gt;subany&lt;/substringMatchType&gt; <br />
      &lt;cacheTimeout&gt;3600&lt;/cacheTimeout&gt; <br />
      &lt;cacheMaxSize&gt;1000&lt;/cacheMaxSize&gt; <br />
    &lt;/directory&gt; <br />
&lt;/extension&gt;
  </pre>
  <p>
      The Generic Directory descriptor only supports a generic subset of the configuration of the directories in general
      (see
      <code>org.nuxeo.ecm.directory.BaseDirectoryDescriptor</code>
      for the exact fields). This new indirection allows to make it easier to change implementation of a directory for a
      given business requirement.
      </p>
      
      <h3>Cache is Back</h3>
      <p>
        <span class="release">8.2</span> Directories that still have a <i> cacheMaxSize </i> and <i>
          cacheTimeOut </i> but no newly-defined <i> cacheEntryName </i> are still be using a cache.
      </p>
      
      <h2>Elasticsearch Evolutions</h2>
      
      <h3>Elasticsearch Crawl API </h3>
      <p><span class="release new">8.3</span>The <code>ElasticSearchService</code> now exposes the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.3/search-request-scroll.html" target="_blank">Elasticsearch scroll API</a> allowing to process large amounts of data.</p>
      <p>You can use it this way for instance:</p>
      <pre>

ElasticSearchService ess = Framework.getService(ElasticSearchService.class);

// Perform initial search and get first batch of 20 results

String query = "SELECT * FROM Document ORDER BY ecm:path";

EsScrollResult scrollResult = ess.scroll(new NxQueryBuilder(session).nxql(query).limit(20), 10000);

while (true) {

DocumentModelList batchOfDocs = scrollResult.getDocuments();

if (batchOfDocs.isEmpty()) {

// No more documents to handle

break;

}

for (DocumentModel doc : batchOfDocs) {

// Process document

...

}

// Get next batch of results

scrollResult= ess.scroll(scrollResult);

}

</pre>

      <p>Note: the <code>keepAlive</code> parameter in milliseconds only needs to be long enough to perform the next scroll query.</p>

      <h3>ecm.path Field</h3>
      <p>
        <span class="release">8.2</span>A new field in Elasticsearch index is available:
        <code>ecm:path</code>
        with the following informations:
      </p>
      <pre>
 "ecm:path.level1": "default-domain", <br />
 "ecm:path.level2": "workspaces", <br />
 "ecm:path.level3": "aWorkspace", <br />
 "ecm:path.level4": "aFolder", <br />
 "ecm:path.level5": "aFile", <br />
 etc. <br />
 "ecm:path.depth": 5
</pre>
      
      <h3>Mapping for Audit Index</h3>
      <p>
        <span class="release">8.2</span>No specific mapping had been contributed for Audit index. This is now
        done.
      </p>

     <h2>NXQL Evolutions</h2>
      <h3><span class="release new">8.3</span>Fetching Documents from Specific Fields</h3>
     <p>When calling <code>CoreSession.query</code>, doing a <code>SELECT * FROM Document WHERE ...</code> is doing <code>SELECT ecm:uuid FROM Document WHERE ...</code> and returning the documents whose ids are matching. There are additional use cases of returning documents with other ids. Ex:</p>
     <ol>
      <li>Direct page provider with <code>SELECT relation:target FROM DefaultRelation WHERE relation:source = ?</code></li>
      <li>Simplifying collection management with a query like <code>SELECT collection:documentIds/* FROM Collection WHERE ecm:uuid = ?</code> </li>
     <p>You can now use such a syntax in your NXQL queries.</p>
      
      <h2>CMIS Evolutions</h2>
      
      <h3>Proxies Are Visible through CMIS</h3>
      <p><span class="release new">8.3</span>
      Now when the system property <code>org.nuxeo.cmis.proxies=true</code> (default value) then proxies are visible like any other document using CMIS.
      </p>
      
      <h3>CMIS Test Feature Can Be Used from Third-Party Bundle</h3>
      <p><span class="release new">8.3</span>It is now possible to have third-party modules use the <code>CmisFeatureSessionHttp</code> feature to run their own tests in the context of a preconfigured CMIS test server.</p>

      <h2>Authentication Prompt</h2>
      <p>
        <span class="release">8.2</span> When configuring authentication chains, a new attribute is available at
        the authentication chain level,
        <code>handlePrompt</code>
        so as to configure if the authentication filter delegates the login prompt to its plug-ins or if it returns
        systematically a 401 response code.
      </p>
      
      <h2>Configuring TinyMCE Editor via Tag Properties</h2>
      <p>
        <span class="release">8.1</span> Plugins and options have been extracted to control them by tag properties in
        order to display different options depending on the field.
      </p>
      
      <h2>Understanding The Sequence Of Listeners Calls</h2>
      <p>
        <span class="release">8.1</span> You can now add this in your log4j.xml:
      </p>
      <pre>
&lt;category name=&quot;org.nuxeo.common.logging&quot;&gt;
&lt;priority value=&quot;DEBUG&quot;/&gt;
&lt;/category&gt; </pre>
      <p>Then use the sequence.sh to generate a PNG with a sequence diagram of all threads and listeners.</p>
      <p>Note that all events in the chart are in chronological order (not proportional) except for the Initiate
        link, where the origin points to the thread that has generated a work without telling when (earlier for sure).</p>
      
      <h2>HTML Content in Tipsy Tooltip</h2>
      <p>
        <span class="release">8.1</span> Tooltips generated with Tipsy now render HTML content properly.
      </p>

      <h2>Sample Project for Benchmarking Nuxeo Platform with Gatling</h2>
      <p><span class="release new">8.3</span>For people who need to write and launch Gatling scenarios for an addon or any Nuxeo project, a Gatling sample is available in the <a href="https://github.com/nuxeo/nuxeo-marketplace-sample/tree/master/ftest/gatling" target="blank">Nuxeo marketplace sample project</a>. Note that Nuxeo has switched to Gatling as it was better suited to reach the level of performances required for benchmarking the Nuxeo Platform in extremely high stress conditions: multiple thousands of requests per seconds.</p>

      <h2>Random Generation of Documents with Nuxeo Platform Importer</h2>
      <p><span class="release new">8.3</span> Using the <code>/randomImporter</code> endpoint, the bulk document importer already offered the possibility to generate random documents so as to fill the repository, typically for benchmark purposes. The number of documents that are generated in the various folders is now random, for more realistic load tests. It follows this rule:</p>
      <ul>
      <li>10% folders with a big number of files (~= 5000)</li>
      <li>10% folders with 1 file</li>
      <li>80% folders with a random variation of the default number of files, so between 50 and 150</li>
      </ul>

      <h2>Explorer Addon Evolution</h2>
      <p> <span class="release new">8.3</span>The Explorer plugin has been greatly improved: better search features, cleaner look & feel. We reviewed the browsing pattern, simplifying each view to navigate between Extension Points, Services, Operations, Components and Bundles. We have also extended the XML generation feature to help developers have a working sample. Check it out on <a href="http://explorer.nuxeo.com/" target="_blank">explorer.nuxeo.com</a> or by installing the <a ref="https://connect.nuxeo.com/nuxeo/site/marketplace/package/platform-explorer" target="_blank">Platform Explorer Nuxeo Package</a>.</p>
      
      <h2>JSF Widgets Evolutions</h2>
      <h3>
        Limit Attribute for
        <code>SuggestDirectoryEntries</code>
      </h3>
      <p>
        <span class="release">8.2</span>A new attribute
        <code>limit</code>
        is available for limiting the number of entries returned by the
        <code>SuggestDirectoryEntries</code>
      </p>
      
      <h2>No More Selenium Tests </h2>
      <p><span class="release new">8.3</span>Selenium has been fully replaced by Webdriver for the functional tests of the Nuxeo Platform and is no longer used.</p>
      
      <h2>Miscellaneous</h2>
      <p><ul><li>
     <span class="release new">8.3</span>The UIDSequencer interface now supports long integer.</li>
     </ul>
      </p>





      <div class="breakafter"></div>
            <h1 style="margin-left: -0.5em !important;">For Administrators</h1>
      

<H2>Environment Information Dumping with nuxeoctl connect-report</H2>
      <p><span class="new release">8.3</span>A new command has been added to nuxeoctl, <code>nuxeoctl connect-report</code>. This new command gathers information that can be useful to understand the environment in which a bug or a problem can be reproduced. This command was added in an effort to keep improving the quality of the service delivered by the Nuxeo Support Team. Information includes: configuration, templates used, environment information via JVM MBeans and more. For now this feature is delivered via a <a href="https://connect.nuxeo.com/nuxeo/site/marketplace/package/nuxeo-connect-tools-report" target="_blank">Nuxeo Package</a> that needs to be installed on the Nuxeo server.</p>

      <H2>MarkLogic as a New Storage Backend</H2>
      <p><span class="new release">8.3></span>A new implementation of the DBS interface (NoSQL) has been done for the MarkLogic database. It is available <a href="https://connect.nuxeo.com/nuxeo/site/marketplace/package/nuxeo-marklogic-connector" target="_blank">as a Nuxeo Package</a> on the Nuxeo Marketplace.</p>

      <h2>MongoDB 3.2</h2>
      <p>
        <span class="release">8.2</span> MongoDB 3.2 is now supported as a storage backend.
      </p>
       <h2>PostgreSQL 9.5</h2>
      <p>
        <span class="release new">8.3</span> PostgreSQL 9.5 is now supported as a storage backend.
      </p>
      <h2>S3 Configuration via Extension Point</h2>
      <p>
        <span class="release">8.1</span> Customers needing to connect to more than one S3 binary managers with different
        configurations are now able to do so using the new
        <code>configuration</code>
        extension point of
        <code>org.nuxeo.ecm.core.blob.BlobManager</code>
        . Previously only one bucket could be configured in
        <code>nuxeo.conf</code>
        .
      </p>
      <pre>
&lt;extension point=&quot;configuration&quot; target=&quot;org.nuxeo.ecm.core.blob.BlobManager&quot;&gt;
    &lt;blobprovider name=&quot;default&quot;&gt;
        &lt;class&gt;org.nuxeo.ecm.core.storage.sql.S3BinaryManager&lt;/class&gt;
        &lt;property name=&quot;awsid&quot;&gt;your_AWS_ACCESS_KEY_ID&lt;/property&gt;
        &lt;property name=&quot;awssecret&quot;&gt;your_AWS_SECRET_ACCESS_KEY&lt;/property&gt;
        &lt;property name=&quot;region&quot;&gt;us-west-1&lt;/property&gt;
        &lt;property name=&quot;bucket&quot;&gt;your_s3_bucket_name&lt;/property&gt;
        &lt;property name=&quot;bucket.prefix&quot;&gt;myprefix/&lt;/property&gt;
        &lt;property name=&quot;directdownload&quot;&gt;true&lt;/property&gt;
        &lt;property name=&quot;directdownload.expire&quot;&gt;3600&lt;/property&gt;
        &lt;property name=&quot;cachesize&quot;&gt;100MB&lt;/property&gt;
        &lt;property name=&quot;crypt.keystore.file&quot;&gt;/my/keystore.jks&lt;/property&gt;
        &lt;property name=&quot;crypt.keystore.password&quot;&gt;password&lt;/property&gt;
        &lt;property name=&quot;crypt.key.alias&quot;&gt;mykey&lt;/property&gt;
        &lt;property name=&quot;crypt.key.password&quot;&gt;password&lt;/property&gt;
        &lt;property name=&quot;connection.max&quot;&gt;50&lt;/property&gt;
        &lt;property name=&quot;connection.retry&quot;&gt;3&lt;/property&gt;
        &lt;property name=&quot;connection.timeout&quot;&gt;50000&lt;/property&gt;
        &lt;property name=&quot;socket.timeout&quot;&gt;50000&lt;/property&gt;
    &lt;/blobprovider&gt;
&lt;/extension&gt;
                            </pre>
      <h2>Server-Side Encryption with S3</h2>
      <p>
        <span class="release">8.1</span> Support for Server-Side Encryption (SSE-S3) has been added as an alternative to
        Client-Side Encryption (CSE) as documented in the
        <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html" target="alt"> S3
          Java SDK</a>
        . This is enabled through the property
        <code>nuxeo.s3storage.crypt.serverside=true</code>
        .
      </p>
      <h2>GridFS as Part of the Default Distribution</h2>
      <p>
        <span class="release">8.1</span> GridFS is now part of the base distribution, in nuxeo-core. It will have to be
        activated explicitly using the
        <code>gridfsbinaries</code>
        template. There is no need to install an additional Nuxeo Package anymore. Read our
        <a href="https://doc.nuxeo.com/x/yAEuAQ"> MongoDB documentation</a>
        for more information.
      </p>
      <h2>SAML Addon Compatible with ADFS</h2>
      <p>
        <span class="release">8.2</span> After adjusting a few blind parts of the specification, the SAML plugin
        has been successfully used with Active Directory Federation Services.

      </p>
      <h2>Elasticsearch Indexing Operations</h2>
      <p>
        <span class="release">8.1</span> Elasticsearch indexing operations are now available from Nuxeo Automation in
        addition to the Admin Center. Using a REST call you can now:
      </p>
      <ul>
        <li>Re-index an entire repository</li>
        <li>Re-index documents that match an NXQL query</li>
        <li>Re-index a document and its children</li>
        <li>Wait for indexing and perform an index refresh</li>
      </ul>
      <H2><span class="release new">8.3</span>Full Text Indexing Optimisation</H2>
      <p>
         We optimized the indexing flow by using ES bulk indexing features, when full-text indexation is disabled at the repository level. Number of works queued is now divided by two.
      </p>

      <h2>Allow Separate Repository DDL Generation</h2>
      <p>
        <span class="release">8.1</span> Nuxeo can now start with a new
        <code>nuxeo.vcs.ddlmode</code>
        parameter that specifies how the DDL for repository initialization should be executed at startup. Depending on
        the chosen mode, the DDL may not be executed at all and instead dumped to the
        <code>log/ddl-vcs-default.sql</code>
        log file. Possible values for
        <code>nuxeo.vcs.ddlmode</code>
        are:
      </p>
      <ul>
        <li><b> ignore</b>: no DDL detected or executed. Replaces <code>nuxeo.vcs.noddl=true</code>.</li>
        <li><b>compat</b>: compatibility mode with previous version. Always executes DDL that recreates stored
          procedures (and does not attempt to detect existing ones). Replaces <code>nuxeo.vcs.noddl=false</code>.</li>
        <li><b>execute</b>: executes the DDL and starts Nuxeo normally.</li>
        <li><b>dump</b>: dumps the DDL (if any) to the file but still executes it and starts Nuxeo normally.</li>
        <li><b>dump,ignore</b>: dumps the DDL (if any) to the file but does not execute it and starts Nuxeo
          normally (will likely result in errors).</li>
        <li><b>dump,abort</b>: dumps the DDL (if any) to the file, and if not empty aborts startup.</li>
      </ul>
      <p>
        For Nuxeo Platform 6.0 and Nuxeo Platform 7.10 the default was
        <code>nuxeo.vcs.ddlmode=compat</code>
        . For Nuxeo 8.2 the default is
        <code>nuxeo.vcs.ddlmode=execute</code>
        .
      </p>
      <p>Note that all this applies to the DDL for the document repository, but not DDL used by other users of SQL
        in the platform (directories, quartz, JPA persistence).</p>

        <h2>New nuxeoctl Commands to Register Instances</h2>
        <p><span class="release new">8.3</span>Some new commands are available:
        

        <pre>
nuxeoctl register [&lt;username&gt; [&lt;project&gt; [&lt;type&gt; &lt;description&gt;] [&lt;pwd&gt;]]] 
nuxeoctl register-trial [&lt;email&gt; &lt;company&gt; &lt;project&gt; &lt;description&gt; [&lt;pwd&gt;]] 
        </pre>
        <code>register</code> allows to register an instance using an existing Nuxeo Online Services account while <code>register-trial</code> allows to create an account and get a trial against the Nuxeo Online Services portal.
        </p>

      <h2>Redis</h2>

      <h3>
        Cluster Invalidation with Redis in
        <code>nuxeo.conf</code>
      </h3>
      <p>
        <span class="release">8.1</span> Using Redis to process cluster invalidation instead of database can be
        configured in nuxeo.conf using
        <code>repository.clustering.invalidation=redis</code>
        (it used to be in the repository contribution).
      </p>
      <h3>Less Memory Footprint for Redis</h3>
      <p>
        <span class="release">8.2</span> Some work has been done to optimize the size of serialized works, hence
        lowering the requirements in terms of memory size for Redis.
      </p>
      <h3>Redis Pool Size Configuration</h3>
      <p>
        <span class="release">8.2</span>The Redis connection pool size can be configured using the new
        <code>nuxeo.conf</code>
        options:
      </p>
  
        <ul>
          <li><code>nuxeo.redis.maxTotal</code> (default 16)</li>
          <li><code>nuxeo.redis.maxIdle</code> (default 8)</li>
        </ul>
      <h3>Retry Logic For Redis Calls</h3>
      <p>
        <span class="release">8.2</span>Nuxeo now uses a failover executor with an exponential delay policy: 1ms,
        2ms, 4ms, 8ms, 16ms, 32ms .. until the timeout has reached 5min by default.
      </p>
      <h2>Work Manager and Shutdown</h2>
      <p>
        <span class="release">8.2</span>There was some clean up in the way jobs were processed, especially at
        server's shutdown. When server is shutdown, works being processed are finished before real shutdown. If server's
        process is killed, job will be restarted as the system is transactional.
      </p>
      <h2>User Manager Cache is Back</h2>
      <p><span class="release new">8.3</span>A cache is now set up for the UserManager by default. It was not the case any more on LTS 2015 for users persisted in an SQL directory.</p>
      <h2>Nuxeo Importer</h2>
      <h3>Non-Bulk Mode Available</h3><p><span class="release new">8.3</span>
      With the following contribution you can now configure the importer to work in non-bulk mode, which is a bit slower but allows regular Work instances to be created and directed to specific queues:</p>

<pre>
&lt;extension target=&quot;org.nuxeo.ecm.platform.importer.service.DefaultImporterComponent&quot; point=&quot;importerConfiguration&quot;&gt;
  &lt;importerConfig&gt;
  &lt;bulkMode&gt;false&lt;/bulkMode&gt;
  &lt;/importerConfig&gt;
&lt;/extension&gt;
</pre>
      
      <h3>Nuxeo Importer Without ES Indexing</h3>
      <p><span class="release new">8.3</span>The nuxeo-importer can now run with Elasticsearch indexing turned off. The reindexing can be done after the mass import.</p>
      
      <h2>Web App Optimizations</h3>
      <p>
        <span class="release">8.2</span> Since 6.0 and migration to JSF2, some regressions on the performance of the
        webapp were found, especially on heavy load. Some optimization work has been done. On a commodity hardware
        benchmarks shows after optimization that we are able to server 25% more requests.
      </p>

      
    </div>
  </div>
  <!-- JS
================================================== -->
  <script src="../../javascripts/strftime.js"></script>
  <script src="../../javascripts/tabs.js"></script>
</body>

</html>
